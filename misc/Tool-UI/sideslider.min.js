var SideSlider=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock;var o=("onmozpointerlockchange"in document?"moz":"onwebkitpointerlockchange"in document?"webkit":"")+"pointerlockchange",i=new Map,r={min:0,max:100,step:1,width:4,threshold:4,maxMovementX:2,updateElement:!0,direction:"left",format:function(e){return e.toFixed(0)}},a=document.createElement("span");window.addEventListener("load",(function(){return document.body.appendChild(a)}));var u={fontSize:"20px",display:"none",zIndex:Math.pow(2,31)-1,position:"fixed",top:0,left:0,lineHeight:0};for(var s in u)a.style[s]=u[s];function c(t,n){if(!(t&&t instanceof HTMLElement))throw new TypeError("HTMLElement required");for(var o in r){void 0===n[o]&&(n[o]=+t[o]||r[o]);var i=n[o];if(e(i)!==e(r[o])||"number"==typeof i&&isNaN(i))throw new TypeError('"'.concat(o,":").concat(i,'" is invalid paramater'))}}function m(e){return["OPTION","INPUT","PROGRESS","METER"].some((function(t){return e.tagName==t}))?"value":"textContent"}a.textContent="â†”";var l=function(){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),"string"==typeof n){var r=document.querySelectorAll(n);return Array.prototype.map.call(r,(function(t){return new e(t,o)}))}c(n,o),this.el=n,Object.assign(this,o),n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.addEventListener("mousedown",L),n.addEventListener("mousemove",f),n.addEventListener("mouseleave",v),["SELECT","INPUT","TEXTAREA"].some((function(e){return n.tagName===e}))&&(n.addEventListener("input",d),n.addEventListener("change",d));var a=m(n);n[a]=this.value||this.min,this.value=+n[a],this.format&&(n[a]=this.format(+n[a])),i.set(n,this)}var o,r,a;return o=e,(r=[{key:"destroy",value:function(){this.el.removeEventListener("mousedown",L),this.el.removeEventListener("mousemove",f),this.el.removeEventListener("mouseleave",v),this.el.removeEventListener("mousemove",P),this.el.removeEventListener("input",d),this.el.removeEventListener("change",d),this.el.style.cursor="initial",g(),v(),i.delete(this.el)}}])&&n(o.prototype,r),a&&n(o,a),e}();function d(e){var t=parseFloat(this.value,10);isNaN(t)||x(i.get(this),t,"change"!=e.type)}function v(){document.documentElement.style.cursor=""}function f(e){var t=w(e);this.setAttribute("title",t?"drag to adjust value":""),this.style.cursor=t?"ew-resize":"initial",t&&(document.documentElement.style.cursor="ew-resize")}function h(){return document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement}var p=0,y=0,E=0;function L(e){0===e.button&&w(e)&&(this.requestPointerLock(),E=p=e.clientX,y=e.clientY,b(),this.addEventListener("mouseup",g,!1))}function g(){document.exitPointerLock(),document.documentElement.style.cursor=""}function w(e){var t=i.get(e.target),n=e.target.getBoundingClientRect();return Math.abs(n[t.direction]-e.clientX)<(t.width||4)}function b(e){a.style.left=p-10+"px",a.style.top=(e||y)+"px"}function k(e,t,n){return Math.min(n,Math.max(e,t))}function x(e,t,n){var o=k(t,e.min,e.max);if("function"==typeof e.onChange){var i=e.onChange({value:o,prev:e.value,delta:o-e.value,slider:e,target:e.el});if("number"!=typeof i||isNaN(i)){if(!1===i)return}else o=k(i,e.min,e.max)}else if(void 0!==e.onChange)throw new TypeError("onChange must be a function");e.value=o;var r=m(e.el);e.updateElement&&(e.el[r]=e.format&&!n?e.format(e.value):e.value)}function P(e){var t=h();if(t){p+=e.movementX,y+=e.movementY,p<0&&(p=window.innerWidth),p>window.innerWidth&&(p=0),b(t.getBoundingClientRect().top+10);var n=i.get(t);if(Math.abs(p-E)>=n.threshold){var o=k(e.movementX,-n.maxMovementX,n.maxMovementX)*n.step;x(n,n.value+o),E=p}}}return document.addEventListener(o,(function(){var e=h(),t=e&&i.get(e);a.style.display=t?"block":"none",this[(t?"add":"remove")+"EventListener"]("mousemove",P)}),!1),l}();
